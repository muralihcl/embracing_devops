---
- name: create resource using name generated by the server
  kubernetes.core.k8s:
    state: present
    definition:
      apiVersion: v1
      kind: Pod
      metadata:
        namespace: training
        name: web
        labels:
          app: web
      spec:
        containers:
        - name: nginx
          image: nginx
          ports:
            - containerPort: 80

